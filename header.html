
<style>
    /* <![CDATA[ */
    
    /* overwriting jimdo layout */
    /*
    .jtpl-section-main {
        margin: 200px auto 60px;
        max-width: 1000px;
        width: 100%;
    }
    */
    
    .jtpl-header {
        transition: background-color 0.3s ease;
    }
    
    html {
        scroll-behavior: smooth;
    }
    
    /* Add scroll-margin-top for anchor links to account for fixed header */
    [id] {
        scroll-margin-top: 100px;
    }
    
    /* done overwriting jimdo layout*/
    /* tabs container */
    .tabs-container {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
    }
    
    .tabs-nav {
        display: flex;
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        margin-bottom: 2rem;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    .tab-button {
        padding: 1rem 2rem;
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        border-bottom: 2px solid transparent;
        white-space: nowrap;
    }
    
    .tab-button.active {
        border-bottom: 2px solid white;
    }
    
    .tab-content {
        display: none;
        animation: fadeIn 0.3s ease;
    }
    
    .tab-content.active {
        display: block;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    /* logo container */
        .logo-gallery-container-2024 {
            width: 100%;
            margin: 40px auto;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            box-sizing: border-box;
        }

        .logo-gallery-items-2024 {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: flex-start;
            gap: 30px;
        }
        
        .custom-logo-item-2024 {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 0px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100px;
            min-width: 150px;
            box-sizing: border-box;
            aspect-ratio: 16 / 9;
            min-width: 150px;
            flex-grow: 1;
            flex-basis: 150px; 
        }

        .custom-logo-item-2024:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 191, 255, 0.3); /* Hellerer Schatten beim Hover */
        }

        .custom-logo-item-2024 a {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            text-decoration: none;
        }

        .custom-logo-item-2024 img {
            max-width: 150px; 
            max-height: 80px;
            height: auto; 
            display: block;
            filter: grayscale(80%) opacity(0.8);
            transition: filter 0.3s ease;
        }

        .custom-logo-item-2024:hover img {
            filter: grayscale(0%) opacity(1); /* Volle Farbe beim Hover */
        }

        /* responsive changes */
        @media (max-width: 768px) {
            .logo-gallery-container-2024 h2 {
                font-size: 1.5rem;
            }
            .logo-gallery-items-2024 {
                gap: 20px;
            }
            .custom-logo-item-2024 {
                padding: 15px;
                min-width: 120px;
            }
            .custom-logo-item-2024 img {
                max-width: 120px;
                max-height: 60px;
            }
        }

        @media (max-width: 480px) {
            .custom-logo-item-2024 {
                width: calc(50% - 10px);
                min-width: unset;
            }
             .custom-logo-item-2024 img {
                max-width: 100px;
                max-height: 50px;
            }
        }
    
    /* horizonal button container */
    .button-container {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 20px 0;
        flex-wrap: wrap;
    }
    
    /* custom audio player */
    .custom-audio-player-2024 {
        margin-bottom: 2rem;
    }

    .player-container {
        background: #000000;
        padding: 15px;
        width: 100%;
        max-width: 800px;
        color: white;
        font-family: Arial, sans-serif;
    }
    
    .title {
        font-size: 16px;
        color: #fff;
    }
    
    .controls-container {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .play-btn {
        background: none;
        border: none;
        color: white;
        font-size: 20px;
        cursor: pointer;
        padding: 0;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .time-slider {
        flex-grow: 1;
        height: 4px;
        -webkit-appearance: none;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 2px;
        outline: none;
    }
    
    .time-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 12px;
        height: 12px;
        background: white;
        border-radius: 50%;
        cursor: pointer;
    }
    
    .time {
        font-size: 12px;
        color: #ccc;
        min-width: 40px;
    }
    
    /* custom video player */
    .custom-video-player-2024 {
        margin-bottom: 2rem;
    }

    .video-player-container {
        background: #000000;
        padding: 15px;
        width: 100%;
        max-width: 800px;
        color: white;
        font-family: Arial, sans-serif;
    }
    
    .video-wrapper {
        position: relative;
        width: 100%;
        padding-top: 56.25%;
        background: #000;
        cursor: pointer;
    }
    
    .video-wrapper video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: contain;
    }
    
    .video-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0);
        transition: background 0.3s;
    }
    
    .video-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    
    .video-overlay-play {
        display: none;
        font-size: 48px;
        color: white;
        text-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    
    .video-wrapper:hover .video-overlay-play {
        display: block;
    }
    
    .video-controls {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 15px;
        background: rgba(0, 0, 0, 0.7);
    }
    
    .video-play-btn, .fullscreen-btn, .volume-btn {
        background: none;
        border: none;
        color: white;
        font-size: 20px;
        cursor: pointer;
        padding: 0;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .video-time-slider {
        flex-grow: 1;
        height: 4px;
        -webkit-appearance: none;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 2px;
        outline: none;
    }
    
    .video-time-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 12px;
        height: 12px;
        background: white;
        border-radius: 50%;
        cursor: pointer;
    }
    
    .video-time {
        font-size: 12px;
        color: #ccc;
        min-width: 40px;
    }
    
    .volume-container {
        display: flex;
        align-items: center;
        gap: 5px;
    }
    
    .volume-slider {
        width: 80px;
        height: 4px;
        -webkit-appearance: none;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 2px;
        outline: none;
    }
    
    .volume-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 12px;
        height: 12px;
        background: white;
        border-radius: 50%;
        cursor: pointer;
    }


    /* shared */
    .player-description {
        margin: 4px 0px 4px 0px;
        font-size: 14px;
        color: #ccc;
        line-height: 1.4;
    }

    /*]]>*/
</style>


<script type="text/javascript">
    /* <![CDATA[ */
    let currentlyPlaying = null;

    class AudioPlayerWidget {
        constructor(container, audioUrl, fullPath) {
            this.container = container;
            this.audioUrl = audioUrl;
            this.fullPath = fullPath;
            this.init();
        }
    
        init() {
            // Existing initialization code...
            this.audio = document.createElement('audio');
            if(this.fullPath){
                this.audio.src = this.audioUrl;
            } else {
                this.audio.src = "https://raw.githubusercontent.com/JeremiasMeister/website-mila/main/" + this.audioUrl;
            }
            
            const title = this.container.querySelector('.title');
            const description = this.container.querySelector('.player-description');      
            const controlsHtml = `
                <div class="controls-container">
                    <button class="play-btn">▶<\/button>
                    <span class="time">0:00<\/span>
                    <input type="range" class="time-slider" min="0" max="100" value="0" />
                    <span class="time duration">0:00<\/span>
                <\/div>
            `;
            
            if (description) {
                description.insertAdjacentHTML('afterend', controlsHtml);
            } else {
                title.insertAdjacentHTML('afterend', controlsHtml);
            }
            this.container.appendChild(this.audio);

            // Get elements
            this.playBtn = this.container.querySelector('.play-btn');
            this.timeSlider = this.container.querySelector('.time-slider');
            this.currentTime = this.container.querySelector('.time');
            this.durationDisplay = this.container.querySelector('.duration');

            this.bindEvents();
        }
    
        formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            seconds = Math.floor(seconds % 60);
            return `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }
    
        updateTimeDisplay() {
            const percent = (this.audio.currentTime / this.audio.duration) * 100;
            this.timeSlider.value = percent;
            this.currentTime.textContent = this.formatTime(this.audio.currentTime);
        }

        pause() {
            if (!this.audio.paused) {
                this.audio.pause();
                this.playBtn.textContent = '▶';
            }
        }
    
        bindEvents() {
            // Modified play/pause button event
            this.playBtn.addEventListener('click', () => {
                if (this.audio.paused) {
                    if (currentlyPlaying && currentlyPlaying !== this) {
                        currentlyPlaying.pause();
                    }
                    this.audio.play();
                    this.playBtn.textContent = '⏸';
                    currentlyPlaying = this;
                } else {
                    this.pause();
                    currentlyPlaying = null;
                }
            });

            // Rest of the existing event bindings...
            this.audio.addEventListener('loadedmetadata', () => {
                this.durationDisplay.textContent = this.formatTime(this.audio.duration);
                this.timeSlider.value = 0;
            });

            this.audio.addEventListener('timeupdate', () => this.updateTimeDisplay());

            this.audio.addEventListener('ended', () => {
                this.playBtn.textContent = '▶';
                this.timeSlider.value = 0;
                this.currentTime.textContent = '0:00';
                currentlyPlaying = null;
            });

            this.timeSlider.addEventListener('input', () => {
                const time = (this.timeSlider.value / 100) * this.audio.duration;
                this.currentTime.textContent = this.formatTime(time);
            });

            this.timeSlider.addEventListener('change', () => {
                const time = (this.timeSlider.value / 100) * this.audio.duration;
                this.audio.currentTime = time;
                if (!this.audio.paused) this.audio.play();
            });

            this.audio.addEventListener('error', () => {
                console.error('Error loading audio');
                this.playBtn.textContent = '⚠';
                this.playBtn.disabled = true;
            });
        }
    }
    
    class VideoPlayerWidget {
        constructor(container, videoUrl, fullPath) {
            this.container = container;
            if(fullPath){
                this.videoUrl = videoUrl;
            } else {
                this.videoUrl = "https://raw.githubusercontent.com/JeremiasMeister/website-mila/main/" + videoUrl;
            }
            
            this.init();
        }
    
        init() {
            // Keep the existing title
            const title = this.container.querySelector('.title'); 
            const description = this.container.querySelector('.player-description');          
            
            // Create video element and controls
            const playerHtml = `
                <div class="video-wrapper">
                    <video src="${this.videoUrl}"><\/video>
                    <div class="video-overlay">
                        <span class="video-overlay-play">⏵<\/span>
                    <\/div>
                    <div class="video-controls">
                        <button class="video-play-btn">▶<\/button>
                        <span class="video-time">0:00<\/span>
                        <input type="range" class="video-time-slider" min="0" max="100" value="0" />
                        <span class="video-time duration">0:00<\/span>
                        <div class="volume-container">
                            <button class="volume-btn">�<\/button>
                            <input type="range" class="volume-slider" min="0" max="100" value="100" />
                        <\/div>
                        <button class="fullscreen-btn">⛶<\/button>
                    <\/div>
                <\/div>
            `;            
            
            
            if (description) {
                description.insertAdjacentHTML('afterend', playerHtml);
            } else {
                title.insertAdjacentHTML('afterend', playerHtml);
            }
    
            // Get elements
            this.video = this.container.querySelector('video');
            this.playBtn = this.container.querySelector('.video-play-btn');
            this.timeSlider = this.container.querySelector('.video-time-slider');
            this.currentTime = this.container.querySelector('.video-time');
            this.durationDisplay = this.container.querySelector('.duration');
            this.volumeBtn = this.container.querySelector('.volume-btn');
            this.volumeSlider = this.container.querySelector('.volume-slider');
            this.fullscreenBtn = this.container.querySelector('.fullscreen-btn');
    
            this.bindEvents();
        }
    
        formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            seconds = Math.floor(seconds % 60);
            return `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }
    
        updateTimeDisplay() {
            const percent = (this.video.currentTime / this.video.duration) * 100;
            this.timeSlider.value = percent;
            this.currentTime.textContent = this.formatTime(this.video.currentTime);
        }
    
        updatePlayIcon() {
            const overlayPlay = this.container.querySelector('.video-overlay-play');
            overlayPlay.textContent = this.video.paused ? '⏵' : '⏸';
        }

        pause() {
            if (!this.video.paused) {
                this.video.pause();
                this.playBtn.textContent = '▶';
                this.updatePlayIcon();
            }
        }
    
        bindEvents() {
            // Video events
            this.video.addEventListener('play', () => {
                this.playBtn.textContent = '⏸';
                this.updatePlayIcon();
            });
    
            this.video.addEventListener('pause', () => {
                this.playBtn.textContent = '▶';
                this.updatePlayIcon();
            });
            this.video.addEventListener('loadedmetadata', () => {
                this.durationDisplay.textContent = this.formatTime(this.video.duration);
                this.timeSlider.value = 0;
            });
    
            this.video.addEventListener('timeupdate', () => this.updateTimeDisplay());
    
            this.video.addEventListener('ended', () => {
                this.playBtn.textContent = '▶';
                this.timeSlider.value = 0;
                this.currentTime.textContent = '0:00';
            });
    
            // Play/Pause button
            this.playBtn.addEventListener('click', () => {
                if (this.video.paused) {
                    if (currentlyPlaying && currentlyPlaying !== this) {
                        currentlyPlaying.pause();
                    }
                    this.video.play();
                    this.playBtn.textContent = '⏸';
                    currentlyPlaying = this;
                } else {
                    this.pause();
                    currentlyPlaying = null;
                }
            });
    
            // Time slider
            this.timeSlider.addEventListener('input', () => {
                const time = (this.timeSlider.value / 100) * this.video.duration;
                this.currentTime.textContent = this.formatTime(time);
            });
    
            this.timeSlider.addEventListener('change', () => {
                const time = (this.timeSlider.value / 100) * this.video.duration;
                this.video.currentTime = time;
                if (!this.video.paused) this.video.play();
            });
    
            // Volume controls
            this.volumeSlider.addEventListener('input', () => {
                this.video.volume = this.volumeSlider.value / 100;
                this.updateVolumeIcon();
            });
    
            this.volumeBtn.addEventListener('click', () => {
                if (this.video.muted) {
                    this.video.muted = false;
                    this.volumeSlider.value = this.video.volume * 100;
                } else {
                    this.video.muted = true;
                    this.volumeSlider.value = 0;
                }
                this.updateVolumeIcon();
            });
    
            // Fullscreen
            this.fullscreenBtn.addEventListener('click', () => {
                const videoWrapper = this.container.querySelector('.video-wrapper');
                if (document.fullscreenElement) {
                    document.exitFullscreen();
                    videoWrapper.style.padding = '56.25%';
                } else {
                    if (videoWrapper.requestFullscreen) {
                        videoWrapper.requestFullscreen().then(() => {
                            videoWrapper.style.padding = '0';
                            videoWrapper.style.height = '100vh';
                        });
                    }
                }
            });
    
            // Video overlay play/pause
            const videoWrapper = this.container.querySelector('.video-wrapper');
            videoWrapper.addEventListener('click', () => {
                if (this.video.paused) {
                    if (currentlyPlaying && currentlyPlaying !== this) {
                        currentlyPlaying.pause();
                    }
                    this.video.play();
                    this.playBtn.textContent = '⏸';
                    currentlyPlaying = this;
                } else {
                    this.pause();
                    currentlyPlaying = null;
                }
            });
    
            // Error handling
            this.video.addEventListener('error', () => {
                console.error('Error loading video');
                this.playBtn.textContent = '⚠';
                this.playBtn.disabled = true;
            });
        }
    
        updateVolumeIcon() {
            if (this.video.muted || this.video.volume === 0) {
                this.volumeBtn.innerHTML = '&#x1F507;';  // muted
            } else if (this.video.volume < 0.5) {
                this.volumeBtn.innerHTML = '&#x1F509;';  // low volume
            } else {
                this.volumeBtn.innerHTML = '&#x1F50A;';  // high volume
            }
        }
    }

    class LogoItemWidget {
        constructor(container) {
            this.container = container;
            this.imgSrc = this.container.dataset.imgSrc;
            this.linkUrl = this.container.dataset.linkUrl;
            this.altText = this.container.dataset.altText || 'Kundenlogo';
            this.customerName = this.container.dataset.customerName || 'Kunde';
            this.isFullPath = this.container.dataset.fullPath === 'true';
            this.init();
        }

        init() {
            if (!this.imgSrc || !this.linkUrl) {
                console.error('Missing data for LogoItemWidget: img-src or link-url not found.', this.container);
                this.container.innerHTML = '<p style="color:red; font-size:12px;">Fehler: missing image files.<\/p>';
                return;
            }

            let finalImgSrc;
            if (this.isFullPath) {
                finalImgSrc = this.imgSrc; 
            } else {
                finalImgSrc = "https://raw.githubusercontent.com/JeremiasMeister/website-mila/main/" + this.imgSrc;
            }

            const logoHtml = `
                <a href="${this.linkUrl}" target="_blank" title="Visit ${this.customerName}">
                    <img src="${finalImgSrc}" alt="${this.altText}" onerror="this.style.display='none'; console.error('Missing Image: ${finalImgSrc}')">
                <\/a>
            `;

            this.container.innerHTML = logoHtml;
        }
    }
    
    // Initialize all players when the document loads
    document.addEventListener('DOMContentLoaded', function() {
        const tabButtons = document.querySelectorAll('.tab-button');
        
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                if (currentlyPlaying) {
                    currentlyPlaying.pause();
                    currentlyPlaying = null;
                }
                
                document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                button.classList.add('active');
                document.getElementById(button.dataset.tab).classList.add('active');
            });
        });
        
        document.querySelectorAll('.custom-audio-player-2024').forEach(container => {
            new AudioPlayerWidget(container, container.dataset.audioUrl, container.dataset.fullPath);
        });
        
        document.querySelectorAll('.custom-video-player-2024').forEach(container => {
            new VideoPlayerWidget(container, container.dataset.videoUrl, container.dataset.fullPath);
        });

        document.querySelectorAll('.custom-logo-item-2024').forEach(container => {
            new LogoItemWidget(container);
        });
        
         // Add scroll handler for navigation opacity
        const header = document.querySelector('.jtpl-header');
        if (header) {
            window.addEventListener('scroll', function() {
                if (window.scrollY > 50) {
                    header.style.backgroundColor = 'rgb(0, 0, 0)'; // Fully opaque black
                    header.style.transition = 'background-color 0.8s ease';
                } else {
                    header.style.backgroundColor = 'rgba(0, 0, 0, 0.65)'; // Original transparency
                }
            });
        }
    });
    /*]]>*/
</script>
